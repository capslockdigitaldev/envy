{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/Event.js","../src/Date.js","../src/Week.js","../src/WeekHeader.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\r\nimport './Date.css';\r\n\r\nfunction Date(props) {\r\n\r\n    let style = \"event\";\r\n\r\n    switch (props.event) {\r\n        case 1:\r\n            style += \" event event-multiday-start\"\r\n            break;\r\n        case 2:\r\n            style += \" event event-multiday\"\r\n            break;\r\n        case 3:\r\n            style += \" event event-multiday-finish\"\r\n            break;\r\n        case 4:\r\n            style += \" event event-ghost\"\r\n            break;\r\n    }\r\n    return (\r\n       <span className={style}></span>\r\n    );\r\n}\r\n\r\nlet a = {\r\n    \"1\": {\r\n        slot1: 1,\r\n        slot2: 0,\r\n        slot3: 1\r\n    },\r\n    \"2\": {\r\n        slot1: 1,\r\n        slot2: 0,\r\n        slot3: 0\r\n    }\r\n}\r\nexport default Date;\r\n","import React from 'react';\r\nimport './Date.css';\r\nimport Event from './Event'\r\n\r\nfunction Date(props) {\r\n\r\n    let a = props.events;\r\n    let d = null;\r\n    if(a[props.date.year] && a[props.date.year][props.date.month] ){\r\n        d = a[props.date.year][props.date.month][props.date.date];\r\n    }\r\n    let active = props.date.active ? \"active\" : \"inactive\";\r\n    return (\r\n        <td class=\"day\"><div class={active}>{props.date.date}</div>\r\n            {d && d[1] ? <Event event={d[1]} /> : null}\r\n            {d && d[2] ? <Event event={d[2]} /> : null}\r\n            {d && d[3] ? <Event event={d[3]} /> : null}\r\n        </td>\r\n    );\r\n}\r\n\r\n\r\nexport default Date;\r\n","import React from 'react';\r\nimport Date from './Date'\r\n\r\nfunction Week(props) {\r\n    let dates = [];\r\n    let diff = props.week.end - props.week.start;\r\n    if (props.week.start == 1) {\r\n        for (let i = 0; i < 6 - diff; i++) {\r\n            dates.push(\"\");\r\n        }\r\n    }\r\n    for (let i = props.week.start; i <= props.week.end; i++) {\r\n        dates.push({ active: true, date: i, month: props.month, year: props.year});\r\n    }\r\n    let dateSize = dates.length;\r\n    for (let i = 1; i < 8 - dateSize; i++) {\r\n        let month = props.month;\r\n        let year = props.year;\r\n        if (props.month == 12) {\r\n            month = 1;\r\n            year++;\r\n        }\r\n        dates.push({ active: false, date: i, month: month, year: year });\r\n    }\r\n    return (\r\n        <tr>\r\n            {dates.map((value, index) => {\r\n                return <Date date={value} events={props.events} />\r\n            })}\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default Week;\r\n","import React from 'react';\r\nimport './WeekHeader.css'\r\n\r\nfunction WeekHeader(props) {\r\n\r\n\r\n    let dates = props.weakHeaders ? props.weakHeaders : [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\n    const rotate = (arr, count) => {\r\n        if (count === 0) return arr;\r\n        return [...arr.slice(count, arr.length), ...arr.slice(0, count)];\r\n    };\r\n\r\n    let d = rotate(dates, props.startWeek);\r\n\r\n    return (\r\n        <tr>\r\n            {d.map((value, index) => {\r\n                return <th class=\"day-name\">{value}</th>\r\n\r\n            })}\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default WeekHeader;\r\n","import React from 'react';\r\nimport './Calendar.css';\r\nimport Week from './Week';\r\nimport WeekHeader from './WeekHeader';\r\n\r\n\r\nfunction aa() {\r\n\r\n  let events = this.props.events;\r\n\r\n  let eventSlots = {};\r\n  for (let event of events) {\r\n    let from = event.from.getDate();\r\n    let to = event.to.getDate();\r\n    let year = event.from.getFullYear();\r\n    let month = event.from.getMonth() + 1;\r\n    let freeSlot = hasFreeSlot(eventSlots, year, month, from);\r\n\r\n    if (freeSlot) {\r\n      if (event.from.getFullYear() == event.to.getFullYear() && event.from.getMonth() == event.to.getMonth() && from == to) {\r\n        eventSlots[year][month][from][freeSlot] = 5;\r\n        continue;\r\n      }\r\n      fillSlot(event.from, event.to, month, year, eventSlots, freeSlot);\r\n      // for (let i = from; i <= to; i++) {\r\n      //   if (!eventSlots[year][month][i]) {\r\n      //     eventSlots[year][month][i] = {};\r\n      //   }\r\n      //   if (i == from) {\r\n      //     eventSlots[year][month][i][freeSlot] = 1;\r\n      //   } else if (i == to) {\r\n      //     eventSlots[year][month][i][freeSlot] = 3;\r\n      //   } else {\r\n      //     eventSlots[year][month][i][freeSlot] = 2;\r\n      //   }\r\n      //   if (freeSlot == 2) {\r\n      //     if (!eventSlots[year][month][i][1]) {\r\n      //       eventSlots[year][month][i][1] = 4;\r\n      //     }\r\n      //   }\r\n      //   if (freeSlot == 3) {\r\n      //     if (!eventSlots[year][month][i][1]) {\r\n      //       eventSlots[year][month][i][1] = 4;\r\n      //     }\r\n      //     if (!eventSlots[year][month][i][2]) {\r\n      //       eventSlots[year][month][i][2] = 4;\r\n      //     }\r\n      //   }\r\n      // }\r\n\r\n\r\n    }\r\n  }\r\n  return eventSlots;\r\n}\r\n\r\nfunction fillSlot(from, to, currentMonth, currentYear, slots, slotNumber) {\r\n  if (slots[currentYear] == null) slots[currentYear] = {}\r\n  if (slots[currentYear][currentMonth] == null) slots[currentYear][currentMonth] = {}\r\n\r\n  let fromMonth = from.getMonth() + 1;\r\n  let toMonth = to.getMonth() + 1;\r\n\r\n  let startDate = 0;\r\n  let lastDate = 0;\r\n  if (fromMonth == toMonth) {\r\n    startDate = from.getDate();\r\n    lastDate = to.getDate();\r\n  } else if (fromMonth == currentMonth) {\r\n    startDate = from.getDate();\r\n    lastDate = new Date(currentYear, currentMonth, 0).getDate()\r\n  } else if (toMonth == currentMonth) {\r\n    startDate = 1;\r\n    lastDate = to.getDate();\r\n  } else {\r\n    startDate = 1;\r\n    lastDate = new Date(currentYear, currentMonth, 0).getDate();\r\n  }\r\n  for (let i = startDate; i <= lastDate; i++) {\r\n    if (slots[currentYear][currentMonth][i] == null) slots[currentYear][currentMonth][i] = {}\r\n\r\n    if (from.getFullYear() == currentYear && (from.getMonth() + 1) == currentMonth && from.getDate() == i) {\r\n      slots[currentYear][currentMonth][i][slotNumber] = 1;\r\n    } else if (to.getFullYear() == currentYear && (to.getMonth() + 1) == currentMonth && to.getDate() == i) {\r\n      slots[currentYear][currentMonth][i][slotNumber] = 3;\r\n    } else {\r\n      slots[currentYear][currentMonth][i][slotNumber] = 2;\r\n    }\r\n    if (slotNumber == 2) {\r\n      if (!slots[currentYear][currentMonth][i][1]) {\r\n        slots[currentYear][currentMonth][i][1] = 4;\r\n      }\r\n    }\r\n    if (slotNumber == 3) {\r\n      if (!slots[currentYear][currentMonth][i][1]) {\r\n        slots[currentYear][currentMonth][i][1] = 4;\r\n      }\r\n      if (!slots[currentYear][currentMonth][i][2]) {\r\n        slots[currentYear][currentMonth][i][2] = 4;\r\n      }\r\n    }\r\n  }\r\n  let nextMonth = currentMonth + 1;\r\n  if (nextMonth > 12) {\r\n    nextMonth = 1\r\n    currentYear++\r\n  }\r\n  nextMonth = nextMonth > 13 ? 1 : nextMonth;\r\n\r\n  if (currentYear <= to.getFullYear() && (to.getMonth() + 1) != currentMonth) {\r\n    fillSlot(from, to, nextMonth, currentYear, slots, slotNumber)\r\n  }\r\n}\r\n\r\nfunction hasFreeSlot(eventSlots, year, month, date) {\r\n  if (!eventSlots[year]) {\r\n    eventSlots[year] = {};\r\n  }\r\n  if (!eventSlots[year][month]) {\r\n    eventSlots[year][month] = {}\r\n  }\r\n  if (!eventSlots[year][month][date]) {\r\n    eventSlots[year][month][date] = {}\r\n  }\r\n  let eventSlot = eventSlots[year][month][date];\r\n  // eventSlot = eventSlots[year][month][date];\r\n  // if (!eventSlot) {\r\n  //   eventSlots[year][month][date] = {}\r\n  //   eventSlot = eventSlots[year][month][date];\r\n  // }\r\n  if (!eventSlot[1] || eventSlot[1] == 4) {\r\n    return 1\r\n  } else if (!eventSlot[2] || eventSlot[2] == 4) {\r\n    return 2\r\n  } else if (!eventSlot[3]) {\r\n    return 3\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction Calendar(props) {\r\n  let events = aa();\r\n  let year = props.year;\r\n  let month = props.month;\r\n  let startWeek = props.startWeek;\r\n  month--;\r\n  let firstDateOfMonth = new Date(year, month, 1);\r\n  let weeks = [];\r\n  let lastDate = 0;\r\n  let lastDateOfMonth = new Date(year, month + 1, 0).getDate();\r\n  for (let i = 0; i <= 5; i++) {\r\n    if (i == 0) {\r\n      let startPos = firstDateOfMonth.getDay();\r\n      lastDate = startWeek - startPos;\r\n      lastDate = lastDate < 1 ? lastDate + 7 : lastDate;\r\n      weeks.push({ start: 1, end: lastDate });\r\n    } else {\r\n      let startDate = lastDate + 1;\r\n      lastDate += 7;\r\n      if (lastDate > lastDateOfMonth) {\r\n        lastDate = lastDateOfMonth;\r\n        weeks.push({ start: startDate, end: lastDate });\r\n        break;\r\n      }\r\n      weeks.push({ start: startDate, end: lastDate });\r\n    }\r\n  }\r\n  return (\r\n    <table>\r\n      <WeekHeader startWeek={startWeek} weakHeaders={props.weakHeaders} />\r\n      {weeks.map((value, index) => {\r\n        return <Week year={year} month={month + 1} week={value} events={events} />\r\n      })}\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default Calendar;\r\n"],"names":["Date","props","style","event","a","events","d","date","year","month","active","Event","Week","dates","diff","week","end","start","i","push","dateSize","length","map","value","index","WeekHeader","weakHeaders","rotate","arr","count","slice","startWeek","aa","eventSlots","from","getDate","to","getFullYear","getMonth","freeSlot","hasFreeSlot","fillSlot","currentMonth","currentYear","slots","slotNumber","fromMonth","toMonth","startDate","lastDate","nextMonth","eventSlot","Calendar","firstDateOfMonth","weeks","lastDateOfMonth","startPos","getDay"],"mappings":";;AAAA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC7B,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE5B,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAExD,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC5C,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAExB,IAAI,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C,MAAM;MACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACzB;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GACzB;;EAED,IAAI,KAAK,CAAC,UAAU,EAAE;IACpB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;GAChC,MAAM;IACL,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;GACjD;CACF;;;;;;;;ACtBD,SAASA,MAAT,CAAcC,KAAd,EAAqB;;QAEbC,QAAQ,OAAZ;;YAEQD,MAAME,KAAd;aACS,CAAL;qBACa,6BAAT;;aAEC,CAAL;qBACa,uBAAT;;aAEC,CAAL;qBACa,8BAAT;;aAEC,CAAL;qBACa,oBAAT;;;WAIL,8BAAM,WAAWD,KAAjB,GADH;;;ACjBJ,SAASF,MAAT,CAAcC,KAAd,EAAqB;;QAEbG,IAAIH,MAAMI,MAAd;QACIC,IAAI,IAAR;QACGF,EAAEH,MAAMM,IAAN,CAAWC,IAAb,KAAsBJ,EAAEH,MAAMM,IAAN,CAAWC,IAAb,EAAmBP,MAAMM,IAAN,CAAWE,KAA9B,CAAzB,EAA+D;YACvDL,EAAEH,MAAMM,IAAN,CAAWC,IAAb,EAAmBP,MAAMM,IAAN,CAAWE,KAA9B,EAAqCR,MAAMM,IAAN,CAAWA,IAAhD,CAAJ;;QAEAG,SAAST,MAAMM,IAAN,CAAWG,MAAX,GAAoB,QAApB,GAA+B,UAA5C;WAEI;;UAAI,SAAM,KAAV;;;cAAqB,SAAOA,MAAZ;kBAA2BH,IAAN,CAAWA;SAAhD;aACUD,EAAE,CAAF,CAAL,GAAY,oBAACK,MAAD,IAAO,OAAOL,EAAE,CAAF,CAAd,GAAZ,GAAqC,IAD1C;aAEUA,EAAE,CAAF,CAAL,GAAY,oBAACK,MAAD,IAAO,OAAOL,EAAE,CAAF,CAAd,GAAZ,GAAqC,IAF1C;aAGUA,EAAE,CAAF,CAAL,GAAY,oBAACK,MAAD,IAAO,OAAOL,EAAE,CAAF,CAAd,GAAZ,GAAqC;KAJ9C;;;ACTJ,SAASM,IAAT,CAAcX,KAAd,EAAqB;QACbY,QAAQ,EAAZ;QACIC,OAAOb,MAAMc,IAAN,CAAWC,GAAX,GAAiBf,MAAMc,IAAN,CAAWE,KAAvC;QACIhB,MAAMc,IAAN,CAAWE,KAAX,IAAoB,CAAxB,EAA2B;aAClB,IAAIC,IAAI,CAAb,EAAgBA,IAAI,IAAIJ,IAAxB,EAA8BI,GAA9B,EAAmC;kBACzBC,IAAN,CAAW,EAAX;;;SAGH,IAAID,KAAIjB,MAAMc,IAAN,CAAWE,KAAxB,EAA+BC,MAAKjB,MAAMc,IAAN,CAAWC,GAA/C,EAAoDE,IAApD,EAAyD;cAC/CC,IAAN,CAAW,EAAET,QAAQ,IAAV,EAAgBH,MAAMW,EAAtB,EAAyBT,OAAOR,MAAMQ,KAAtC,EAA6CD,MAAMP,MAAMO,IAAzD,EAAX;;QAEAY,WAAWP,MAAMQ,MAArB;SACK,IAAIH,MAAI,CAAb,EAAgBA,MAAI,IAAIE,QAAxB,EAAkCF,KAAlC,EAAuC;YAC/BT,QAAQR,MAAMQ,KAAlB;YACID,OAAOP,MAAMO,IAAjB;YACIP,MAAMQ,KAAN,IAAe,EAAnB,EAAuB;oBACX,CAAR;;;cAGEU,IAAN,CAAW,EAAET,QAAQ,KAAV,EAAiBH,MAAMW,GAAvB,EAA0BT,OAAOA,KAAjC,EAAwCD,MAAMA,IAA9C,EAAX;;WAGA;;;cACWc,GAAN,CAAU,UAACC,KAAD,EAAQC,KAAR,EAAkB;mBAClB,oBAACxB,MAAD,IAAM,MAAMuB,KAAZ,EAAmB,QAAQtB,MAAMI,MAAjC,GAAP;SADH;KAFT;;;;;;;;;;;;;;;;ACrBJ,SAASoB,YAAT,CAAoBxB,KAApB,EAA2B;;QAGnBY,QAAQZ,MAAMyB,WAAN,GAAoBzB,MAAMyB,WAA1B,GAAwC,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CAApD;;QAEMC,SAAS,SAATA,MAAS,CAACC,GAAD,EAAMC,KAAN,EAAgB;YACvBA,UAAU,CAAd,EAAiB,OAAOD,GAAP;2CACNA,IAAIE,KAAJ,CAAUD,KAAV,EAAiBD,IAAIP,MAArB,CAAX,qBAA4CO,IAAIE,KAAJ,CAAU,CAAV,EAAaD,KAAb,CAA5C;KAFJ;;QAKIvB,IAAIqB,OAAOd,KAAP,EAAcZ,MAAM8B,SAApB,CAAR;;WAGI;;;UACOT,GAAF,CAAM,UAACC,KAAD,EAAQC,KAAR,EAAkB;mBACd;;kBAAI,SAAM,UAAV;;aAAP;SADH;KAFT;;;ACTJ,SAASQ,EAAT,GAAc;;MAER3B,SAAS,KAAKJ,KAAL,CAAWI,MAAxB;;MAEI4B,aAAa,EAAjB;;;;;;yBACkB5B,MAAlB,8HAA0B;UAAjBF,KAAiB;;UACpB+B,OAAO/B,MAAM+B,IAAN,CAAWC,OAAX,EAAX;UACIC,KAAKjC,MAAMiC,EAAN,CAASD,OAAT,EAAT;UACI3B,OAAOL,MAAM+B,IAAN,CAAWG,WAAX,EAAX;UACI5B,QAAQN,MAAM+B,IAAN,CAAWI,QAAX,KAAwB,CAApC;UACIC,WAAWC,YAAYP,UAAZ,EAAwBzB,IAAxB,EAA8BC,KAA9B,EAAqCyB,IAArC,CAAf;;UAEIK,QAAJ,EAAc;YACRpC,MAAM+B,IAAN,CAAWG,WAAX,MAA4BlC,MAAMiC,EAAN,CAASC,WAAT,EAA5B,IAAsDlC,MAAM+B,IAAN,CAAWI,QAAX,MAAyBnC,MAAMiC,EAAN,CAASE,QAAT,EAA/E,IAAsGJ,QAAQE,EAAlH,EAAsH;qBACzG5B,IAAX,EAAiBC,KAAjB,EAAwByB,IAAxB,EAA8BK,QAA9B,IAA0C,CAA1C;;;iBAGOpC,MAAM+B,IAAf,EAAqB/B,MAAMiC,EAA3B,EAA+B3B,KAA/B,EAAsCD,IAAtC,EAA4CyB,UAA5C,EAAwDM,QAAxD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SA8BGN,UAAP;;;AAGF,SAASQ,QAAT,CAAkBP,IAAlB,EAAwBE,EAAxB,EAA4BM,YAA5B,EAA0CC,WAA1C,EAAuDC,KAAvD,EAA8DC,UAA9D,EAA0E;MACpED,MAAMD,WAAN,KAAsB,IAA1B,EAAgCC,MAAMD,WAAN,IAAqB,EAArB;MAC5BC,MAAMD,WAAN,EAAmBD,YAAnB,KAAoC,IAAxC,EAA8CE,MAAMD,WAAN,EAAmBD,YAAnB,IAAmC,EAAnC;;MAE1CI,YAAYZ,KAAKI,QAAL,KAAkB,CAAlC;MACIS,UAAUX,GAAGE,QAAH,KAAgB,CAA9B;;MAEIU,YAAY,CAAhB;MACIC,WAAW,CAAf;MACIH,aAAaC,OAAjB,EAA0B;gBACZb,KAAKC,OAAL,EAAZ;eACWC,GAAGD,OAAH,EAAX;GAFF,MAGO,IAAIW,aAAaJ,YAAjB,EAA+B;gBACxBR,KAAKC,OAAL,EAAZ;eACW,IAAInC,IAAJ,CAAS2C,WAAT,EAAsBD,YAAtB,EAAoC,CAApC,EAAuCP,OAAvC,EAAX;GAFK,MAGA,IAAIY,WAAWL,YAAf,EAA6B;gBACtB,CAAZ;eACWN,GAAGD,OAAH,EAAX;GAFK,MAGA;gBACO,CAAZ;eACW,IAAInC,IAAJ,CAAS2C,WAAT,EAAsBD,YAAtB,EAAoC,CAApC,EAAuCP,OAAvC,EAAX;;OAEG,IAAIjB,IAAI8B,SAAb,EAAwB9B,KAAK+B,QAA7B,EAAuC/B,GAAvC,EAA4C;QACtC0B,MAAMD,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,KAAuC,IAA3C,EAAiD0B,MAAMD,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,IAAsC,EAAtC;;QAE7CgB,KAAKG,WAAL,MAAsBM,WAAtB,IAAsCT,KAAKI,QAAL,KAAkB,CAAnB,IAAyBI,YAA9D,IAA8ER,KAAKC,OAAL,MAAkBjB,CAApG,EAAuG;YAC/FyB,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC2B,UAApC,IAAkD,CAAlD;KADF,MAEO,IAAIT,GAAGC,WAAH,MAAoBM,WAApB,IAAoCP,GAAGE,QAAH,KAAgB,CAAjB,IAAuBI,YAA1D,IAA0EN,GAAGD,OAAH,MAAgBjB,CAA9F,EAAiG;YAChGyB,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC2B,UAApC,IAAkD,CAAlD;KADK,MAEA;YACCF,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC2B,UAApC,IAAkD,CAAlD;;QAEEA,cAAc,CAAlB,EAAqB;UACf,CAACD,MAAMD,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,CAAL,EAA6C;cACrCyB,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,IAAyC,CAAzC;;;QAGA2B,cAAc,CAAlB,EAAqB;UACf,CAACD,MAAMD,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,CAAL,EAA6C;cACrCyB,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,IAAyC,CAAzC;;UAEE,CAAC0B,MAAMD,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,CAAL,EAA6C;cACrCyB,WAAN,EAAmBD,YAAnB,EAAiCxB,CAAjC,EAAoC,CAApC,IAAyC,CAAzC;;;;MAIFgC,YAAYR,eAAe,CAA/B;MACIQ,YAAY,EAAhB,EAAoB;gBACN,CAAZ;;;cAGUA,YAAY,EAAZ,GAAiB,CAAjB,GAAqBA,SAAjC;;MAEIP,eAAeP,GAAGC,WAAH,EAAf,IAAoCD,GAAGE,QAAH,KAAgB,CAAjB,IAAuBI,YAA9D,EAA4E;aACjER,IAAT,EAAeE,EAAf,EAAmBc,SAAnB,EAA8BP,WAA9B,EAA2CC,KAA3C,EAAkDC,UAAlD;;;;AAIJ,SAASL,WAAT,CAAqBP,UAArB,EAAiCzB,IAAjC,EAAuCC,KAAvC,EAA8CF,IAA9C,EAAoD;MAC9C,CAAC0B,WAAWzB,IAAX,CAAL,EAAuB;eACVA,IAAX,IAAmB,EAAnB;;MAEE,CAACyB,WAAWzB,IAAX,EAAiBC,KAAjB,CAAL,EAA8B;eACjBD,IAAX,EAAiBC,KAAjB,IAA0B,EAA1B;;MAEE,CAACwB,WAAWzB,IAAX,EAAiBC,KAAjB,EAAwBF,IAAxB,CAAL,EAAoC;eACvBC,IAAX,EAAiBC,KAAjB,EAAwBF,IAAxB,IAAgC,EAAhC;;MAEE4C,YAAYlB,WAAWzB,IAAX,EAAiBC,KAAjB,EAAwBF,IAAxB,CAAhB;;;;;;MAMI,CAAC4C,UAAU,CAAV,CAAD,IAAiBA,UAAU,CAAV,KAAgB,CAArC,EAAwC;WAC/B,CAAP;GADF,MAEO,IAAI,CAACA,UAAU,CAAV,CAAD,IAAiBA,UAAU,CAAV,KAAgB,CAArC,EAAwC;WACtC,CAAP;GADK,MAEA,IAAI,CAACA,UAAU,CAAV,CAAL,EAAmB;WACjB,CAAP;;SAEK,CAAP;;;AAGF,SAASC,UAAT,CAAkBnD,KAAlB,EAAyB;MACnBI,SAAS2B,IAAb;MACIxB,OAAOP,MAAMO,IAAjB;MACIC,QAAQR,MAAMQ,KAAlB;MACIsB,YAAY9B,MAAM8B,SAAtB;;MAEIsB,mBAAmB,IAAIrD,IAAJ,CAASQ,IAAT,EAAeC,KAAf,EAAsB,CAAtB,CAAvB;MACI6C,QAAQ,EAAZ;MACIL,WAAW,CAAf;MACIM,kBAAkB,IAAIvD,IAAJ,CAASQ,IAAT,EAAeC,QAAQ,CAAvB,EAA0B,CAA1B,EAA6B0B,OAA7B,EAAtB;OACK,IAAIjB,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;QACvBA,KAAK,CAAT,EAAY;UACNsC,WAAWH,iBAAiBI,MAAjB,EAAf;iBACW1B,YAAYyB,QAAvB;iBACWP,WAAW,CAAX,GAAeA,WAAW,CAA1B,GAA8BA,QAAzC;YACM9B,IAAN,CAAW,EAAEF,OAAO,CAAT,EAAYD,KAAKiC,QAAjB,EAAX;KAJF,MAKO;UACDD,YAAYC,WAAW,CAA3B;kBACY,CAAZ;UACIA,WAAWM,eAAf,EAAgC;mBACnBA,eAAX;cACMpC,IAAN,CAAW,EAAEF,OAAO+B,SAAT,EAAoBhC,KAAKiC,QAAzB,EAAX;;;YAGI9B,IAAN,CAAW,EAAEF,OAAO+B,SAAT,EAAoBhC,KAAKiC,QAAzB,EAAX;;;SAIF;;;wBACGxB,YAAD,IAAY,WAAWM,SAAvB,EAAkC,aAAa9B,MAAMyB,WAArD,GADF;UAESJ,GAAN,CAAU,UAACC,KAAD,EAAQC,KAAR,EAAkB;aACpB,oBAAC,IAAD,IAAM,MAAMhB,IAAZ,EAAkB,OAAOC,QAAQ,CAAjC,EAAoC,MAAMc,KAA1C,EAAiD,QAAQlB,MAAzD,GAAP;KADD;GAHL;;;;;"}