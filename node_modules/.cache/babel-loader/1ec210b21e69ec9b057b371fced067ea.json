{"ast":null,"code":"import { history } from './history';\nexport const handleResponse = response => {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401 || response.status === 400) {\n        localStorage.removeItem('token');\n        history.push('/');\n      }\n\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n};","map":{"version":3,"sources":["/home/capslock/Downloads/envy/src/store/helpers/userServices.js"],"names":["history","handleResponse","response","text","then","data","JSON","parse","ok","status","localStorage","removeItem","push","error","message","statusText","Promise","reject"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AAEA,OAAO,MAAMC,cAAc,GAAIC,QAAD,IAAc;AACxC,SAAOA,QAAQ,CAACC,IAAT,GAAgBC,IAAhB,CAAqBD,IAAI,IAAI;AAChC,UAAME,IAAI,GAAGF,IAAI,IAAIG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;AACA,QAAI,CAACD,QAAQ,CAACM,EAAd,EAAkB;AACd,UAAIN,QAAQ,CAACO,MAAT,KAAoB,GAApB,IAA2BP,QAAQ,CAACO,MAAT,KAAoB,GAAnD,EAAwD;AAEpDC,QAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAX,QAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACH;;AACD,YAAMC,KAAK,GAAIR,IAAI,IAAIA,IAAI,CAACS,OAAd,IAA0BZ,QAAQ,CAACa,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH;;AAED,WAAOR,IAAP;AACH,GAbM,CAAP;AAcH,CAfM","sourcesContent":["import { history } from './history';\r\n\r\nexport const handleResponse = (response) => {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401 || response.status === 400) {\r\n\r\n                localStorage.removeItem('token');\r\n                history.push('/');\r\n            }\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}