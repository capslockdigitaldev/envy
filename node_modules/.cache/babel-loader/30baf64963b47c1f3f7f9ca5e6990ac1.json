{"ast":null,"code":"var _jsxFileName = \"/home/capslock/Downloads/envy/src/components/cart.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport parseJwt from './../store/helpers/common';\nimport { getUserdetails } from \"./../store/actions/userActions\";\nimport toastr from \"reactjs-toastr\";\nimport axios from 'axios';\n\nclass cart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeFromCart = unique => {\n      const currusercart = this.state.currusercart;\n\n      for (var i = 0; i < currusercart.length; i++) {\n        if (currusercart[i].unique === unique) {\n          currusercart.splice(i, 1);\n        }\n      }\n\n      this.setState({\n        currusercart: currusercart\n      });\n      const currcarttt = this.state.currusercart;\n      const currid = this.state.currid;\n      let request;\n      let formData = new FormData();\n      formData.append('currid', currid);\n      formData.append('currusercart', JSON.stringify(currcarttt));\n      request = {\n        method: 'POST',\n        url: `https://xrsports.gg/team/public/user/remove-from-cart`,\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Auth-Token': `${localStorage.getItem('token')}`\n        },\n        data: formData\n      };\n      axios(request).then(data => {\n        if (data.data.ResponseCode === \"1\") {\n          toastr.success(data.data.ResponseText, {\n            displayDuration: 1500\n          });\n          this.props.dispatch(getUserdetails(currid));\n        } else {\n          toastr.error(data, {\n            displayDuration: 1500\n          });\n        }\n      });\n    };\n\n    this.state = {\n      usersdata: '',\n      isLoggedIn: false,\n      currid: '',\n      currusercart: '',\n      curruser_vxp: '',\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('token')) {\n      const currdetails = parseJwt(localStorage.getItem('token'));\n      const currid = currdetails.sub;\n      this.setState({\n        currid: currid,\n        isLoggedIn: true\n      });\n      this.props.dispatch(getUserdetails(currid));\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      usersdata: nextProps.userdata,\n      username: nextProps.userdata.nickname,\n      currusercart: nextProps.userdata.cart,\n      curruser_vxp: nextProps.userdata.vxp\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          currusercart = _this$state.currusercart,\n          isLoggedIn = _this$state.isLoggedIn,\n          curruser_vxp = _this$state.curruser_vxp;\n\n    if (currusercart === null || currusercart === '') {\n      return React.createElement(\"div\", {\n        id: \"mainpage\",\n        className: \"main_box col-md-12 p-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1575621923/New_Project_57_ipahtu.png\",\n        className: \"emptycart\",\n        name: \" empty cart\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"OOPS..!! Your cart is empty..\")));\n    } else {\n      if (currusercart.length) {\n        var sum = 0;\n\n        for (var i = 0; i < currusercart.length; i++) {\n          sum += parseInt(currusercart[i].price);\n        }\n\n        const totalsum = sum;\n        const remainingbal = curruser_vxp - totalsum;\n        return React.createElement(\"div\", {\n          id: \"mainpage\",\n          className: \"main_box col-md-12 p-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, isLoggedIn ? currusercart === null || currusercart === '' ? React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1575621923/New_Project_57_ipahtu.png\",\n          className: \"emptycart\",\n          name: \" empty cart\",\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"OOPS..!! Your cart is empty..\")) : React.createElement(React.Fragment, null, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table ranking mt-2 leaderbrd leaderboard mt-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          className: \"new_list_tournament only_headings list_game leadehead\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"Product Image\"), React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"Title\"), React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"Price\"), React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Size\"), React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Quantity\"), React.createElement(\"th\", {\n          className: \"border-top-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Remove\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, currusercart.length ? currusercart.map(post => React.createElement(\"tr\", {\n          key: post.unique,\n          className: \"table-secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"rounded-circle cartproductimage\",\n          src: `https://xrsports.gg/team/public/rewards/${post.image}`,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, post.product_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, post.price), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, post.size), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"1\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: () => this.removeFromCart(post.unique),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \"Remove\")))) : 'Cart is empty'))), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"leftside\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, curruser_vxp === totalsum || curruser_vxp > totalsum ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n          className: \"cartcal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"floatleft-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, \"Redeemable XP Balance:\"), \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, curruser_vxp)), React.createElement(\"div\", {\n          className: \"floatleft-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, \"Oder Total:\"), \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, totalsum)), React.createElement(\"div\", {\n          className: \"floatleft-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \"Remaining XP:\"), \" \", React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, curruser_vxp, \" XP - \", totalsum, \" XP = \", remainingbal, \" XP\"))), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Cart Total: \", totalsum, \" XP\"), \"  \") : ''), React.createElement(\"div\", {\n          className: \"rightside\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, curruser_vxp === totalsum || curruser_vxp > totalsum ? React.createElement(\"a\", {\n          href: \"/checkout\",\n          name: \"checkout\",\n          className: \"checkoutbtnn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"Checkout\") : React.createElement(React.Fragment, null, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"OOPS...!!\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"You don't have sufficient XP Credits in your account\"))))) : React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"please Login\")));\n      }\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  userdata: state.userDetails.data\n});\n\nexport default connect(mapStateToProps)(cart);","map":{"version":3,"sources":["/home/capslock/Downloads/envy/src/components/cart.jsx"],"names":["React","Component","connect","parseJwt","getUserdetails","toastr","axios","cart","constructor","props","removeFromCart","unique","currusercart","state","i","length","splice","setState","currcarttt","currid","request","formData","FormData","append","JSON","stringify","method","url","headers","localStorage","getItem","data","then","ResponseCode","success","ResponseText","displayDuration","dispatch","error","usersdata","isLoggedIn","curruser_vxp","username","componentDidMount","currdetails","sub","componentWillReceiveProps","nextProps","userdata","nickname","vxp","render","sum","parseInt","price","totalsum","remainingbal","map","post","image","product_name","size","mapStateToProps","userDetails"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport parseJwt from './../store/helpers/common';\nimport { getUserdetails} from \"./../store/actions/userActions\";\nimport toastr from \"reactjs-toastr\";\nimport axios from 'axios';\n\nclass cart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            usersdata:'',\n            isLoggedIn: false,\n            currid:'',\n            currusercart:'',\n            curruser_vxp:'',\n            username:'',\n        };\n    }\n    componentDidMount() {\n        if (localStorage.getItem('token')) {\n            const currdetails = parseJwt(localStorage.getItem('token'));\n            const currid = currdetails.sub;\n            this.setState({currid:currid , isLoggedIn:true});\n            this.props.dispatch(getUserdetails(currid));\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            usersdata :nextProps.userdata,\n            username:nextProps.userdata.nickname,\n            currusercart:nextProps.userdata.cart,\n            curruser_vxp:nextProps.userdata.vxp\n        });\n    }\n    removeFromCart = (unique) =>{\n        const {currusercart} = this.state;\n        for( var i = 0; i < currusercart.length; i++){ \n            if ( currusercart[i].unique === unique) {\n                currusercart.splice(i, 1); \n            }\n         }\n         this.setState({currusercart:currusercart});\n         const currcarttt = this.state.currusercart;\n         const currid = this.state.currid;\n         let request;\n         let formData = new FormData();\n         formData.append('currid',currid );\n         formData.append('currusercart', JSON.stringify(currcarttt));\n            request = {\n             method: 'POST',\n             url: `https://xrsports.gg/team/public/user/remove-from-cart`,\n             headers: { 'Content-Type': 'application/json', 'X-Auth-Token': `${localStorage.getItem('token')}` },\n             data: formData\n           };\n         axios(request).then((data) => {\n           if (data.data.ResponseCode === \"1\") {\n             toastr.success(data.data.ResponseText, { displayDuration: 1500 })\n             this.props.dispatch(getUserdetails(currid));\n              }else {\n             toastr.error(data, { displayDuration: 1500 })\n           }\n         });\n    }\n\n    render() {\n        const {currusercart,isLoggedIn ,curruser_vxp} = this.state;\n       \n        if( currusercart === null || currusercart === ''){\n            return (\n                <div id=\"mainpage\" className=\"main_box col-md-12 p-0\">\n                <div className=\"row\">\n                                <img src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1575621923/New_Project_57_ipahtu.png\" className=\"emptycart\" name=\" empty cart\" alt=\"\"/><br/>\n                                <h3>OOPS..!! Your cart is empty..</h3>\n                            </div>\n               </div>\n            );\n        }else{\n            if(currusercart.length ){\n                var sum = 0;\n                for(var i=0; i < currusercart.length; i++){\n                sum += parseInt(currusercart[i].price);\n                }\n                const totalsum = sum;\n                const remainingbal = curruser_vxp -totalsum;\n                return (\n                    <div id=\"mainpage\" className=\"main_box col-md-12 p-0\">\n                     \n                     {\n                         isLoggedIn ?\n                         currusercart === null || currusercart === ''?\n                            <div className=\"row\">\n                                <img src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1575621923/New_Project_57_ipahtu.png\" className=\"emptycart\" name=\" empty cart\" alt=\"\"/><br/>\n                                <h3>OOPS..!! Your cart is empty..</h3>\n                            </div>\n                            :\n                            <>\n                            <div className=\"row\">\n                                <table className=\"table ranking mt-2 leaderbrd leaderboard mt-2\">\n                                    <thead>\n                                        <tr className=\"new_list_tournament only_headings list_game leadehead\">\n                                            <th className=\"border-top-0\">Product Image</th>\n                                            <th className=\"border-top-0\">Title</th>\n                                            <th className=\"border-top-0\">Price</th>\n                                            <th className=\"border-top-0\">Size</th>\n                                            <th className=\"border-top-0\">Quantity</th>\n                                            <th className=\"border-top-0\">Remove</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                                {currusercart.length?currusercart.map((post) => (\n                                                    <tr key={post.unique} className=\"table-secondary\">\n                                                        <td><img className=\"rounded-circle cartproductimage\" src={`https://xrsports.gg/team/public/rewards/${post.image}`} alt=\"\"/></td>\n                                                        <td>{post.product_name}</td>\n                                                        <td>{post.price}</td>\n                                                        <td>{post.size}</td>\n                                                        <td>1</td>\n                                                        <td><button onClick={()=>this.removeFromCart(post.unique)}>Remove</button></td>\n                                                    </tr>\n                                                )):'Cart is empty'}\n                                               \n                                        </tbody>\n                                </table>\n                            </div> \n                            <div className=\"row\">\n                         <div className=\"leftside\">\n                      {curruser_vxp === totalsum || curruser_vxp > totalsum?\n                    \n                    <>\n                        <div className=\"cartcal\">\n                                <div className=\"floatleft-text\"><h5>Redeemable XP Balance:</h5> <p>{curruser_vxp}</p></div>\n                                <div className=\"floatleft-text\"><h5>Oder Total:</h5> <p>{totalsum}</p></div>\n                                <div className=\"floatleft-text\"><h5>Remaining XP:</h5> <p>{curruser_vxp} XP - {totalsum} XP = {remainingbal} XP</p></div>\n                        </div>\n                        <h2>Cart Total: {totalsum} XP</h2>  </>:''}\n                        </div> \n                         <div className=\"rightside\">\n                             {curruser_vxp === totalsum || curruser_vxp > totalsum?\n                                   <a href=\"/checkout\" name=\"checkout\" className=\"checkoutbtnn\">Checkout</a>\n                                    :\n                                   <>\n                                   <span>OOPS...!!</span>\n                                   <span>You don't have sufficient XP Credits in your account</span>\n                                   </>\n                               }\n                             \n                         </div>\n                     </div>\n                            </>\n                          :\n                         <div className=\"row\">\n                            <h3>please Login</h3>\n                        </div>\n                    \n                     }\n                     \n                    \n                    </div>\n                    \n                            );\n            }\n        }\n      \n    }\n}\nconst mapStateToProps = (state) => ({\n    userdata: state.userDetails.data\n})\nexport default connect(mapStateToProps)(cart);"]},"metadata":{},"sourceType":"module"}