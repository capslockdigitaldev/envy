{"ast":null,"code":"var _jsxFileName = \"/home/capslock/Downloads/envy/src/components/games.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { gameImages } from './../store/helpers/common';\nimport { getAllgames } from './../store/actions/gamesActions';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nconst qs = require('query-string');\n\nclass games extends Component {\n  constructor(props) {\n    super(props);\n\n    this.flipitright = (yy, gname) => {\n      this.setState({\n        game: gname\n      });\n      var id = yy.target.id; // document.getElementById(id).className += \" flipped\";\n\n      document.getElementById(id).classList.toggle('flipped');\n    };\n\n    this.chooseplat = plat => {\n      const gname = this.state.game;\n      this.setState({\n        platform: plat\n      });\n      localStorage.setItem('game', gname);\n      localStorage.setItem('platform', plat);\n    };\n\n    this.state = {\n      totalItems: '',\n      flipped: false,\n      game: '',\n      platform: ''\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'match';\n    this.props.dispatch(getAllgames());\n    const string = this.props.location.search;\n\n    if (string) {\n      console.log(string);\n      var mySubString = string.substring(string.lastIndexOf(\"=\") + 1);\n      const newstr = mySubString;\n      console.log(newstr);\n      console.log(newstr);\n\n      if (newstr) {\n        console.log('yyy', newstr);\n        const postData = {\n          client_id: \"2551880e979642db877151662e7d6742\",\n          client_secret: \"ypSSMqrvq2aHRwtjxD1GWCUWYvPdm7ge\",\n          grant_type: \"authorization_code\",\n          code: newstr,\n          redirect_uri: 'https://teamenvy.herokuapp.com/games'\n        };\n        const axiosConfig = {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        };\n        const url = \"https://us.battle.net/oauth/token\";\n        axios.post(url, qs.stringify(postData), axiosConfig).then(res => {\n          console.log(\"res\", res.data.access_token);\n\n          if (res.data.access_token) {\n            const postData = {\n              region: \"us\",\n              access_token: res.data.access_token\n            };\n            const axiosConfig = {\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              }\n            };\n            const url = \"https://us.battle.net/oauth/userinfo?:region=us&access_token=\" + res.data.access_token;\n            axios.get(url, qs.stringify(postData), axiosConfig).then(res => {\n              console.log(res); //signup and login api\n\n              const firstname = res.data.sub;\n              const nickname = res.data.id;\n              const phone = res.data.id;\n              const email = res.data.id;\n              const password = res.data.id;\n              const cpassword = res.data.id;\n              const message = 'you have successfully regisered on team envy, Welcome to team envy family.';\n              const request = new Request('https://xrsports.gg/team/public/signup', {\n                method: 'POST',\n                body: JSON.stringify({\n                  firstname,\n                  nickname,\n                  phone,\n                  email,\n                  password,\n                  message\n                }),\n                headers: new Headers({\n                  'Content-Type': 'application/json'\n                })\n              });\n\n              if (password !== cpassword) {\n                toastr.error('Passwords Dont Match', {\n                  displayDuration: 1500\n                });\n              } else {\n                return fetch(request).then(res => res.json()).then(data => {\n                  if (data.ResponseCode === '1') {\n                    toastr.success(data.ResponseText, {\n                      displayDuration: 1500\n                    }); // this.props.dispatch(sendMessage(phone,invitemessage));\n\n                    const request = new Request('https://xrsports.gg/team/public/user/login', {\n                      method: 'POST',\n                      body: JSON.stringify({\n                        email,\n                        password\n                      }),\n                      headers: new Headers({\n                        'Content-Type': 'application/json'\n                      })\n                    });\n                    return fetch(request).then(res => res.json()).then(data => {\n                      if (data.token) {\n                        localStorage.setItem('token', data.token);\n                        this.setState({\n                          isSubmit: true,\n                          loggedIn: true\n                        });\n                        this.props.history.push('/games');\n                        document.getElementById(\"close\").click();\n                        window.location.reload();\n                      } else {\n                        this.setState({\n                          isSubmit: false,\n                          loggedIn: false\n                        });\n                      }\n                    }).catch(err => {\n                      console.log(err);\n                    });\n                  } else {\n                    toastr.error(data, {\n                      displayDuration: 1500\n                    });\n                  }\n                }).catch(err => {\n                  console.log(err);\n                });\n              }\n            });\n          }\n        }).catch(err => {\n          console.log(\"err\", err); // alert(\"Something went wrong, Please try again\")\n        });\n      } else {\n        console.log('nnn');\n      }\n    } // great\n    //aap use krlo ye\n    // lekin rediect ab is component pe karna pary ga\n    //a// pis ka route /games hai?hanji \n    // let me update  \n\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      totalItems: nextProps.gamesdata\n    });\n  }\n\n  render() {\n    let i = 0;\n    return React.createElement(\"div\", {\n      className: \"main-content w-100 mt-2 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"games-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.props.loading ? React.createElement(\"div\", {\n      className: \"loaderdiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"spinnerloader\",\n      src: \"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })) : '', this.state.totalItems.length > 0 ? this.state.totalItems.map(post => React.createElement(\"div\", {\n      className: \"col-md-2 m-0 p-1 gamecardmain mt-4\",\n      key: post.game_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flip-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, i++), React.createElement(\"div\", {\n      id: i,\n      className: `flip-card-inner card cara${i}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flip-card-front front\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"flipfront\",\n      src: gameImages(post.game_name),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: `flip-card-back back flipback car${i}`,\n      id: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"gamename\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, post.game_title), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/all-tournaments-matches\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"text-center enabled\",\n      onClick: () => this.chooseplat('ps4'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game enabled gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/ps4round_lr6eam.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"PS4\"))), React.createElement(NavLink, {\n      to: \"/all-tournaments-matches\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"text-center enabled\",\n      onClick: () => this.chooseplat('xbox'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game enabled gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/xboxround_vfxcix.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"XBOX\"))), React.createElement(NavLink, {\n      to: \"/all-tournaments-matches\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"text-center enabled \",\n      onClick: () => this.chooseplat('pc'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/pcround_pkhude.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"PC\"))), React.createElement(\"li\", {\n      className: \"text-center disabled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/stadiaround_qtkcqi.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"STADIA\")), React.createElement(\"li\", {\n      className: \"text-center disabled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/arcaderound_zilmfa.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"ARCADE\")), React.createElement(\"li\", {\n      className: \"text-center disabled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid game gameplaticons\",\n      src: \"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/steamround_pyl8ol.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"STEAM\"))))), React.createElement(\"a\", {\n      type: \"button\",\n      className: \"gamebutton\",\n      id: i,\n      onClick: e => this.flipitright(e, post.game_name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"PLAY\")))) : '', React.createElement(\"div\", {\n      className: \"game-list-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/assets/img/games/Bg.jpg\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gamesdata: state.games.data,\n  loading: state.games.loading\n});\n\nexport default connect(mapStateToProps)(games);","map":{"version":3,"sources":["/home/capslock/Downloads/envy/src/components/games.jsx"],"names":["React","Component","connect","gameImages","getAllgames","NavLink","axios","qs","require","games","constructor","props","flipitright","yy","gname","setState","game","id","target","document","getElementById","classList","toggle","chooseplat","plat","state","platform","localStorage","setItem","totalItems","flipped","componentDidMount","title","dispatch","string","location","search","console","log","mySubString","substring","lastIndexOf","newstr","postData","client_id","client_secret","grant_type","code","redirect_uri","axiosConfig","headers","url","post","stringify","then","res","data","access_token","region","get","firstname","sub","nickname","phone","email","password","cpassword","message","request","Request","method","body","JSON","Headers","toastr","error","displayDuration","fetch","json","ResponseCode","success","ResponseText","token","isSubmit","loggedIn","history","push","click","window","reload","catch","err","componentWillReceiveProps","nextProps","gamesdata","render","i","loading","length","map","game_id","game_name","game_title","e","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,UAAR,QAAyB,2BAAzB;AACA,SAAQC,WAAR,QAA0B,iCAA1B;AACA,SAASC,OAAT,QAAuB,kBAAvB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,EAAE,GAAGC,OAAO,CAAC,cAAD,CAAlB;;AAEA,MAAMC,KAAN,SAAoBR,SAApB,CAA8B;AAC1BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA8HnBC,WA9HmB,GA8HL,CAACC,EAAD,EAAMC,KAAN,KAAgB;AAC1B,WAAKC,QAAL,CAAc;AAACC,QAAAA,IAAI,EAAEF;AAAP,OAAd;AACA,UAAIG,EAAE,GAAGJ,EAAE,CAACK,MAAH,CAAUD,EAAnB,CAF0B,CAG1B;;AACAE,MAAAA,QAAQ,CAACC,cAAT,CAAwBH,EAAxB,EAA4BI,SAA5B,CAAsCC,MAAtC,CAA6C,SAA7C;AAEH,KApIkB;;AAAA,SA0InBC,UA1ImB,GA0ILC,IAAD,IAAS;AAClB,YAAMV,KAAK,GAAG,KAAKW,KAAL,CAAWT,IAAzB;AACA,WAAKD,QAAL,CAAc;AAACW,QAAAA,QAAQ,EAAGF;AAAZ,OAAd;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6Bd,KAA7B;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCJ,IAAjC;AACH,KA/IkB;;AAEf,SAAKC,KAAL,GAAa;AACTI,MAAAA,UAAU,EAAE,EADH;AAETC,MAAAA,OAAO,EAAC,KAFC;AAGTd,MAAAA,IAAI,EAAC,EAHI;AAITU,MAAAA,QAAQ,EAAC;AAJA,KAAb;AAOH;;AACDK,EAAAA,iBAAiB,GAAG;AAChBZ,IAAAA,QAAQ,CAACa,KAAT,GAAiB,OAAjB;AACA,SAAKrB,KAAL,CAAWsB,QAAX,CAAoB7B,WAAW,EAA/B;AACA,UAAM8B,MAAM,GAAG,KAAKvB,KAAL,CAAWwB,QAAX,CAAoBC,MAAnC;;AACA,QAAGF,MAAH,EAAU;AACNG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,UAAIK,WAAW,GAAGL,MAAM,CAACM,SAAP,CACdN,MAAM,CAACO,WAAP,CAAmB,GAAnB,IAA0B,CADZ,CAAlB;AAGA,YAAMC,MAAM,GAAGH,WAAf;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;AAEAL,MAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;;AACA,UAAGA,MAAH,EAAU;AACNL,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBI,MAAnB;AAEJ,cAAMC,QAAQ,GAAG;AACbC,UAAAA,SAAS,EAAC,kCADG;AAEbC,UAAAA,aAAa,EAAE,kCAFF;AAGbC,UAAAA,UAAU,EAAC,oBAHE;AAIbC,UAAAA,IAAI,EAACL,MAJQ;AAKbM,UAAAA,YAAY,EAAC;AALA,SAAjB;AAOE,cAAMC,WAAW,GAAG;AAClBC,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT;AADS,SAApB;AAKA,cAAMC,GAAG,GACP,mCADF;AAEA7C,QAAAA,KAAK,CAAC8C,IAAN,CAAWD,GAAX,EAAgB5C,EAAE,CAAC8C,SAAH,CAAaV,QAAb,CAAhB,EAAwCM,WAAxC,EAAqDK,IAArD,CAA0DC,GAAG,IAAI;AAC7DlB,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAG,CAACC,IAAJ,CAASC,YAA5B;;AACF,cAAGF,GAAG,CAACC,IAAJ,CAASC,YAAZ,EAAyB;AACrB,kBAAMd,QAAQ,GAAG;AACbe,cAAAA,MAAM,EAAC,IADM;AAEbD,cAAAA,YAAY,EAAEF,GAAG,CAACC,IAAJ,CAASC;AAFV,aAAjB;AAIE,kBAAMR,WAAW,GAAG;AAClBC,cAAAA,OAAO,EAAE;AACP,gCAAgB;AADT;AADS,aAApB;AAKA,kBAAMC,GAAG,GACT,kEAAgEI,GAAG,CAACC,IAAJ,CAASC,YADzE;AAEMnD,YAAAA,KAAK,CAACqD,GAAN,CAAUR,GAAV,EAAe5C,EAAE,CAAC8C,SAAH,CAAaV,QAAb,CAAf,EAAuCM,WAAvC,EAAoDK,IAApD,CAAyDC,GAAG,IAAI;AAChElB,cAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ,EADgE,CAEhE;;AACA,oBAAMK,SAAS,GAAGL,GAAG,CAACC,IAAJ,CAASK,GAA3B;AACA,oBAAMC,QAAQ,GAAGP,GAAG,CAACC,IAAJ,CAASvC,EAA1B;AACA,oBAAM8C,KAAK,GAAGR,GAAG,CAACC,IAAJ,CAASvC,EAAvB;AACA,oBAAM+C,KAAK,GAAGT,GAAG,CAACC,IAAJ,CAASvC,EAAvB;AACA,oBAAMgD,QAAQ,GAAGV,GAAG,CAACC,IAAJ,CAASvC,EAA1B;AACA,oBAAMiD,SAAS,GAAGX,GAAG,CAACC,IAAJ,CAASvC,EAA3B;AACA,oBAAMkD,OAAO,GAAG,4EAAhB;AAEA,oBAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,wCAAZ,EAAsD;AAClEC,gBAAAA,MAAM,EAAE,MAD0D;AAElEC,gBAAAA,IAAI,EAAEC,IAAI,CAACnB,SAAL,CAAe;AAAEO,kBAAAA,SAAF;AAAaE,kBAAAA,QAAb;AAAuBC,kBAAAA,KAAvB;AAA8BC,kBAAAA,KAA9B;AAAqCC,kBAAAA,QAArC;AAA+CE,kBAAAA;AAA/C,iBAAf,CAF4D;AAGlEjB,gBAAAA,OAAO,EAAE,IAAIuB,OAAJ,CAAY;AAAE,kCAAgB;AAAlB,iBAAZ;AAHyD,eAAtD,CAAhB;;AAKA,kBAAIR,QAAQ,KAAKC,SAAjB,EAA4B;AACxBQ,gBAAAA,MAAM,CAACC,KAAP,CAAa,sBAAb,EAAqC;AAAEC,kBAAAA,eAAe,EAAE;AAAnB,iBAArC;AACH,eAFD,MAEO;AACH,uBAAOC,KAAK,CAACT,OAAD,CAAL,CAAed,IAAf,CAAoBC,GAAG,IAAIA,GAAG,CAACuB,IAAJ,EAA3B,EACNxB,IADM,CACAE,IAAD,IAAU;AACZ,sBAAIA,IAAI,CAACuB,YAAL,KAAsB,GAA1B,EAA+B;AAC3BL,oBAAAA,MAAM,CAACM,OAAP,CAAexB,IAAI,CAACyB,YAApB,EAAmC;AAACL,sBAAAA,eAAe,EAAC;AAAjB,qBAAnC,EAD2B,CAE3B;;AACA,0BAAMR,OAAO,GAAG,IAAIC,OAAJ,CAAY,4CAAZ,EAA0D;AAC9EC,sBAAAA,MAAM,EAAE,MADsE;AAE9EC,sBAAAA,IAAI,EAAEC,IAAI,CAACnB,SAAL,CAAe;AAAEW,wBAAAA,KAAF;AAASC,wBAAAA;AAAT,uBAAf,CAFwE;AAG9Ef,sBAAAA,OAAO,EAAE,IAAIuB,OAAJ,CAAY;AAAE,wCAAgB;AAAlB,uBAAZ;AAHqE,qBAA1D,CAAhB;AAKR,2BAAOI,KAAK,CAACT,OAAD,CAAL,CAAed,IAAf,CAAoBC,GAAG,IAAIA,GAAG,CAACuB,IAAJ,EAA3B,EACFxB,IADE,CACIE,IAAD,IAAU;AACZ,0BAAIA,IAAI,CAAC0B,KAAT,EAAgB;AACZvD,wBAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B4B,IAAI,CAAC0B,KAAnC;AACA,6BAAKnE,QAAL,CAAc;AAAEoE,0BAAAA,QAAQ,EAAE,IAAZ;AAAmBC,0BAAAA,QAAQ,EAAE;AAA7B,yBAAd;AACA,6BAAKzE,KAAL,CAAW0E,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACAnE,wBAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCmE,KAAjC;AACAC,wBAAAA,MAAM,CAACrD,QAAP,CAAgBsD,MAAhB;AACH,uBAND,MAMO;AACH,6BAAK1E,QAAL,CAAc;AAAEoE,0BAAAA,QAAQ,EAAE,KAAZ;AAAoBC,0BAAAA,QAAQ,EAAE;AAA9B,yBAAd;AACH;AACJ,qBAXE,EAWAM,KAXA,CAWOC,GAAD,IAAS;AACdtD,sBAAAA,OAAO,CAACC,GAAR,CAAYqD,GAAZ;AACH,qBAbE,CAAP;AAcK,mBAtBD,MAsBO;AACHjB,oBAAAA,MAAM,CAACC,KAAP,CAAanB,IAAb,EAAoB;AAACoB,sBAAAA,eAAe,EAAC;AAAjB,qBAApB;AACH;AACJ,iBA3BM,EA2BJc,KA3BI,CA2BGC,GAAD,IAAS;AACdtD,kBAAAA,OAAO,CAACC,GAAR,CAAYqD,GAAZ;AACH,iBA7BM,CAAP;AA8BH;AAEJ,aAnDG;AAoDX;AAEF,SApED,EAqECD,KArED,CAqEQC,GAAD,IAAS;AACZtD,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBqD,GAAnB,EADY,CAEd;AACD,SAxED;AA0ED,OA3FD,MA2FK;AACDtD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH;AACJ,KA3Ge,CA4GhB;AAEA;AACA;AACC;AACL;;AAEC;;AAQDsD,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACjC,SAAK9E,QAAL,CAAc;AACVc,MAAAA,UAAU,EAAEgE,SAAS,CAACC;AADZ,KAAd;AAGH;;AAODC,EAAAA,MAAM,GAAG;AACL,QAAIC,CAAC,GAAG,CAAR;AAEA,WACI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKrF,KAAL,CAAWsF,OAAX,GACD;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,GAAG,EAAC,wGAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3B,CADC,GAEA,EAHD,EAKJ,KAAKxE,KAAL,CAAWI,UAAX,CAAsBqE,MAAtB,GAA+B,CAA/B,GAAkC,KAAKzE,KAAL,CAAWI,UAAX,CAAsBsE,GAAtB,CAA2B/C,IAAD,IAExD;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAoD,MAAA,GAAG,EAAEA,IAAI,CAACgD,OAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBJ,CAAC,EAAxB,CADJ,EAEI;AAAK,MAAA,EAAE,EAAEA,CAAT;AAAY,MAAA,SAAS,EAAG,4BAA2BA,CAAE,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACY;AAAK,MAAA,SAAS,EAAE,WAAhB;AAA4B,MAAA,GAAG,EAAE7F,UAAU,CAACiD,IAAI,CAACiD,SAAN,CAA3C;AAA6D,MAAA,GAAG,EAAC,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADZ,CADJ,EAKI;AAAK,MAAA,SAAS,EAAG,mCAAkCL,CAAE,EAArD;AAAwD,MAAA,EAAE,EAAEA,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAG,MAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyB5C,IAAI,CAACkD,UAA9B,CADR,EAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,0BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwC;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAoC,MAAA,OAAO,EAAE,MAAI,KAAK/E,UAAL,CAAgB,KAAhB,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAChC;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAsD,MAAA,GAAG,EAAC,iGAA1D;AAA4J,MAAA,GAAG,EAAC,EAAhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADgC,EACoI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADpI,CAAxC,CADA,EAII,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,0BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwC;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAqC,MAAA,OAAO,EAAE,MAAI,KAAKA,UAAL,CAAgB,MAAhB,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACpC;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAsD,MAAA,GAAG,EAAC,kGAA1D;AAA6J,MAAA,GAAG,EAAC,EAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADoC,EACiI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADjI,CAAxC,CAJJ,EAOI,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,0BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwC;AAAI,MAAA,SAAS,EAAC,sBAAd;AAAsC,MAAA,OAAO,EAAE,MAAI,KAAKA,UAAL,CAAgB,IAAhB,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACpC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAC,gGAAlD;AAAmJ,MAAA,GAAG,EAAC,EAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADoC,EACuH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADvH,CAAxC,CAPJ,EAUI;AAAI,MAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAC,oGAAlD;AAAuJ,MAAA,GAAG,EAAC,EAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,EAAoM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApM,CAVJ,EAWI;AAAI,MAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAC,oGAAlD;AAAuJ,MAAA,GAAG,EAAC,EAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,EAAoM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApM,CAXJ,EAYI;AAAI,MAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAC,mGAAlD;AAAsJ,MAAA,GAAG,EAAC,EAA1J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,EAAmM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnM,CAZJ,CAFR,CALJ,CAFJ,EA4BI;AAAG,MAAA,IAAI,EAAC,QAAR;AAAiB,MAAA,SAAS,EAAC,YAA3B;AAAwC,MAAA,EAAE,EAAEyE,CAA5C;AAAgD,MAAA,OAAO,EAAGO,CAAD,IAAO,KAAK3F,WAAL,CAAiB2F,CAAjB,EAAoBnD,IAAI,CAACiD,SAAzB,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BJ,CADA,CAF8B,CAAlC,GAqCQ,EA1CJ,EA4CJ;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAC,0BAAT;AAAqC,MAAA,GAAG,EAAC,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CA5CI,CADJ,CADJ,CADJ;AAsDH;;AA1MyB;;AA8M9B,MAAMG,eAAe,GAAI/E,KAAD,KAAY;AAChCqE,EAAAA,SAAS,EAAErE,KAAK,CAAChB,KAAN,CAAY+C,IADS;AAEhCyC,EAAAA,OAAO,EAAGxE,KAAK,CAAChB,KAAN,CAAYwF;AAFU,CAAZ,CAAxB;;AAIA,eAAe/F,OAAO,CAACsG,eAAD,CAAP,CAAyB/F,KAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {gameImages} from './../store/helpers/common';\nimport {getAllgames} from './../store/actions/gamesActions';\nimport { NavLink} from 'react-router-dom';\n\nimport axios from 'axios';\nconst qs = require('query-string');\n\nclass games extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            totalItems: '',\n            flipped:false,\n            game:'',\n            platform:''\n            \n        };\n    }\n    componentDidMount() {\n        document.title = 'match';\n        this.props.dispatch(getAllgames());\n        const string = this.props.location.search;\n        if(string){\n            console.log(string)\n            var mySubString = string.substring(\n                string.lastIndexOf(\"=\") + 1, \n            );\n            const newstr = mySubString;\n            console.log(newstr)\n           \n            console.log(newstr)\n            if(newstr){\n                console.log('yyy', newstr);\n\n            const postData = {\n                client_id:\"2551880e979642db877151662e7d6742\",\n                client_secret: \"ypSSMqrvq2aHRwtjxD1GWCUWYvPdm7ge\",\n                grant_type:\"authorization_code\",\n                code:newstr,\n                redirect_uri:'https://teamenvy.herokuapp.com/games'\n              };\n              const axiosConfig = {\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n              };\n              const url =\n                \"https://us.battle.net/oauth/token\";\n              axios.post(url, qs.stringify(postData), axiosConfig).then(res => {\n                  console.log(\"res\", res.data.access_token);\n                if(res.data.access_token){\n                    const postData = {\n                        region:\"us\",\n                        access_token: res.data.access_token,\n                      };\n                      const axiosConfig = {\n                        headers: {\n                          \"Content-Type\": \"application/x-www-form-urlencoded\"\n                        }\n                      };\n                      const url = \n                      \"https://us.battle.net/oauth/userinfo?:region=us&access_token=\"+res.data.access_token;\n                            axios.get(url, qs.stringify(postData), axiosConfig).then(res => {\n                            console.log(res)\n                            //signup and login api\n                            const firstname = res.data.sub;\n                            const nickname = res.data.id;\n                            const phone = res.data.id;\n                            const email = res.data.id;\n                            const password = res.data.id;\n                            const cpassword = res.data.id;\n                            const message = 'you have successfully regisered on team envy, Welcome to team envy family.'\n                            \n                            const request = new Request('https://xrsports.gg/team/public/signup', {\n                                method: 'POST',\n                                body: JSON.stringify({ firstname, nickname, phone, email, password, message}),\n                                headers: new Headers({ 'Content-Type': 'application/json' }),\n                            })\n                            if (password !== cpassword) {\n                                toastr.error('Passwords Dont Match', { displayDuration: 1500 });                \n                            } else {\n                                return fetch(request).then(res => res.json())\n                                .then((data) => {\n                                    if (data.ResponseCode === '1') {\n                                        toastr.success(data.ResponseText,  {displayDuration:1500})\n                                        // this.props.dispatch(sendMessage(phone,invitemessage));\n                                        const request = new Request('https://xrsports.gg/team/public/user/login', {\n                                    method: 'POST',\n                                    body: JSON.stringify({ email, password }),\n                                    headers: new Headers({ 'Content-Type': 'application/json' }),\n                                })\n                                return fetch(request).then(res => res.json())\n                                    .then((data) => {\n                                        if (data.token) {\n                                            localStorage.setItem('token', data.token);\n                                            this.setState({ isSubmit: true , loggedIn: true});\n                                            this.props.history.push('/games')\n                                            document.getElementById(\"close\").click();\n                                            window.location.reload()\n                                        } else {\n                                            this.setState({ isSubmit: false , loggedIn: false});\n                                        }\n                                    }).catch((err) => {\n                                        console.log(err)\n                                    })\n                                    } else {\n                                        toastr.error(data,  {displayDuration:1500})        \n                                    }\n                                }).catch((err) => {\n                                    console.log(err)\n                                })\n                            }\n\n                        })\n                }\n          \n              })\n              .catch((err) => {\n                  console.log(\"err\", err);\n                // alert(\"Something went wrong, Please try again\")\n              })\n\n            }else{\n                console.log('nnn');\n            }\n        }\n        // great\n\n        //aap use krlo ye\n        // lekin rediect ab is component pe karna pary ga\n         //a// pis ka route /games hai?hanji \n    // let me update  \n        \n    }\n    flipitright = (yy , gname) => {\n        this.setState({game: gname});\n        var id = yy.target.id;\n        // document.getElementById(id).className += \" flipped\";\n        document.getElementById(id).classList.toggle('flipped');\n\n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            totalItems: nextProps.gamesdata,\n        });\n    }\n    chooseplat = (plat) =>{\n        const gname = this.state.game;\n        this.setState({platform : plat});\n        localStorage.setItem('game', gname);\n        localStorage.setItem('platform', plat);\n    }\n    render() {\n        let i = 0;\n        \n        return (\n            <div className=\"main-content w-100 mt-2 text-center\">\n                <div className=\"container\">\n                    <div className=\"games-list\">\n                    {this.props.loading ?\n                    <div className=\"loaderdiv\"><img className=\"spinnerloader\" src=\"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\"></img></div>\n                    :''}\n            {\n                this.state.totalItems.length > 0 ?this.state.totalItems.map((post) => (\n                    \n                    <div className=\"col-md-2 m-0 p-1 gamecardmain mt-4\" key={post.game_id}>\n                    <div className=\"flip-card\">\n                        <p className=\"hidden\">{i++}</p>\n                        <div id={i} className={`flip-card-inner card cara${i}`}>\n                            <div className=\"flip-card-front front\">\n                                        <img className =\"flipfront\" src={gameImages(post.game_name)} alt=\"\"/>\n                                   \n                            </div>\n                            <div className={`flip-card-back back flipback car${i}`} id={i}>\n                                    <p className=\"gamename\">{post.game_title}</p>\n                                    <ul>\n                                    <NavLink to=\"/all-tournaments-matches\" ><li className=\"text-center enabled\" onClick={()=>this.chooseplat('ps4')}>\n                                            <img className=\"img-fluid game enabled gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/ps4round_lr6eam.png\" alt=\"\"/><p>PS4</p>\n                                        </li></NavLink>\n                                        <NavLink to=\"/all-tournaments-matches\" ><li className=\"text-center enabled\"  onClick={()=>this.chooseplat('xbox')}>\n                                            <img className=\"img-fluid game enabled gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/xboxround_vfxcix.png\" alt=\"\"/><p>XBOX</p>\n                                        </li></NavLink>\n                                        <NavLink to=\"/all-tournaments-matches\" ><li className=\"text-center enabled \"  onClick={()=>this.chooseplat('pc')}>\n                                            <img className=\"img-fluid game gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/pcround_pkhude.png\" alt=\"\"/><p>PC</p>\n                                        </li></NavLink> \n                                        <li className=\"text-center disabled\"><img className=\"img-fluid game gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/stadiaround_qtkcqi.png\" alt=\"\"/><p>STADIA</p></li>\n                                        <li className=\"text-center disabled\"><img className=\"img-fluid game gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/arcaderound_zilmfa.png\" alt=\"\"/><p>ARCADE</p></li>\n                                        <li className=\"text-center disabled\"><img className=\"img-fluid game gameplaticons\" src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574920944/platformicons/steamround_pyl8ol.png\" alt=\"\"/><p>STEAM</p></li>\n                                    </ul>\n                                    \n                            \n                                \n                            </div>\n                        </div>\n                        <a type=\"button\" className=\"gamebutton\" id={i}  onClick={(e) => this.flipitright(e, post.game_name)}>PLAY\n                        {/* <br></br><i className=\"fas fa-chevron-right\"></i> */}\n                        </a>\n                    </div>\n                </div>\n                \n                    )) :''\n            }\n                <div className=\"game-list-bg\">\n                    <img src=\"/assets/img/games/Bg.jpg\"  alt=\"\"></img>\n                    </div>    \n            </div>\n            </div>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    gamesdata: state.games.data,\n    loading : state.games.loading,\n})\nexport default connect(mapStateToProps)(games);"]},"metadata":{},"sourceType":"module"}