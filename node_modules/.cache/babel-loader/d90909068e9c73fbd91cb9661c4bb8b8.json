{"ast":null,"code":"var _jsxFileName = \"/home/capslock/Downloads/envy/src/components/team.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Select2 from 'react-select2-wrapper';\nimport 'react-select2-wrapper/css/select2.css';\nimport { FormGroup, FormControl, FormLabel } from 'react-bootstrap';\nimport SimpleReactValidator from 'simple-react-validator';\nimport { getUsersdetail } from \"./../store/actions/userActions\";\nimport { getAllTeams } from \"./../store/actions/teamsActions\";\nimport $ from \"jquery\";\nimport parseJwt from './../store/helpers/common';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport toastr from \"reactjs-toastr\";\n\nclass team extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateTeamForm = e => {\n      e.preventDefault();\n      let validate = this.teamValidator;\n\n      if (validate.allValid()) {} else {\n        validate.showMessages();\n        this.forceUpdate();\n      }\n\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.groupValue = () => {\n      this.setState({\n        user_id: $('#user_id').val()\n      });\n    };\n\n    this.removeGroupValue = () => {\n      this.setState({\n        user_id: $('#user_id').val()\n      });\n    };\n\n    this.createTeam = e => {\n      const _this$state = this.state,\n            teamname = _this$state.teamname,\n            currid = _this$state.currid,\n            user_id = _this$state.user_id;\n      let request;\n      let formData = new FormData();\n      formData.append('teamdisplaypicture', $('#teamdisplaypicturee')[0].files[0]);\n      formData.append('currid', currid);\n      formData.append('teamname', teamname);\n      formData.append('user_id', user_id);\n      request = {\n        method: 'POST',\n        url: `https://xrsports.gg/team/public/user/create-team`,\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Auth-Token': `${localStorage.getItem('token')}`\n        },\n        data: formData\n      };\n      axios(request).then(data => {\n        if (data.data.ResponseCode === \"1\") {\n          document.getElementById(\"close\").click();\n          toastr.success(data.data.ResponseText, {\n            displayDuration: 1500\n          });\n          this.props.dispatch(getAllTeams(currid));\n        } else {\n          toastr.error(data.data, {\n            displayDuration: 1500\n          });\n        }\n      });\n    };\n\n    this.teamValidator = new SimpleReactValidator();\n    this.state = {\n      totalItems: '',\n      totalteams: '',\n      userData: [],\n      user_id: [],\n      teamname: '',\n      teamdisplaypicture: '',\n      currid: '',\n      loggedin: false\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('token')) {\n      const currdetails = parseJwt(localStorage.getItem('token'));\n      const currid = currdetails.sub;\n      this.props.dispatch(getAllTeams(currid));\n      this.setState({\n        currid: currid,\n        loggedin: true\n      });\n      this.props.dispatch(getUsersdetail());\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      userData: nextProps.usersdata,\n      totalteams: nextProps.teams\n    });\n  }\n\n  render() {\n    if (this.state.loggedin) {\n      const _this$state2 = this.state,\n            userData = _this$state2.userData,\n            totalteams = _this$state2.totalteams;\n      let i = 1;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"mainpage\",\n        className: \"main_box p-0 col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main-content support frontline text-left mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"position-relative border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"commonheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"TEAMS\"), React.createElement(\"div\", {\n        className: \"showallteams games-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"matchbox pl-4 my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        id: \"modal-50997896\",\n        href: \"#modal-container-50997896\",\n        role: \"button\",\n        \"data-toggle\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \" Create Team \", React.createElement(\"i\", {\n        className: \"fas fa-chevron-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"table\", {\n        className: \"table mb-4 mt-2\",\n        id: \"allteams\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        className: \"new_list_tournament only_headings list_game leadehead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"S no\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Team Icon\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Team Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Total Members\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"View\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.props.teamloading ? React.createElement(\"tr\", {\n        className: \"tableloader\",\n        colSpan: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"spinnerloader\",\n        src: \"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), \" \") : totalteams.length > 0 ? totalteams.map(post => React.createElement(\"tr\", {\n        key: post.team_id,\n        classNmae: \"table-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, i++), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: `https://xrsports.gg/team/public/teamprofiles/${post.displaypicture}`,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, post.teamname), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, post.teammembers.split(',').length), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: `/team/${post.teamname}/${post.team_id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"View\")))) : React.createElement(\"tr\", {\n        classNmae: \"table-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"7\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"No matches\")))))))))), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"modal-container-50997896\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"myModalLabel\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        id: \"close\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"\\xD7\"), React.createElement(\"div\", {\n        className: \"logo-image text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"img-fluid footer_logo\",\n        src: \"/assets/img/games/foot-logo.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login team modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login modal-content rob\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login modal-header text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-titl text-center w-100 creategametitle\",\n        id: \"myModalLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Create your Team\")), React.createElement(\"div\", {\n        className: \"modal-body create_team\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(FormLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Team Name\"), React.createElement(FormControl, {\n        type: \"text\",\n        name: \"teamname\",\n        value: this.state.teamname,\n        onChange: e => this.validateTeamForm(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), this.teamValidator.message('teamname', this.state.teamname, 'required')), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(FormLabel, {\n        className: \"ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Display Picture\"), React.createElement(FormLabel, {\n        className: \"fileContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"file\",\n        name: \"teamdisplaypicture\",\n        id: \"teamdisplaypicturee\",\n        className: \"teamdisplaypicture\",\n        value: this.state.teamdisplaypicture,\n        onChange: e => this.validateTeamForm(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), this.teamValidator.message('teamdisplaypicture', this.state.teamdisplaypicture, 'required'))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(FormLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Add Users\"), this.props.usersdatateamloading ? React.createElement(\"div\", {\n        className: \"loaderdiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"spinnerloader\",\n        src: \"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })) : React.createElement(Select2, {\n        multiple: true,\n        className: \"form-control\",\n        name: \"user_id\",\n        value: this.state.user_id,\n        data: userData && userData.map(({\n          user_id,\n          nickname\n        }) => ({\n          text: nickname,\n          id: user_id\n        })),\n        options: {\n          placeholder: 'Choose Team Members'\n        },\n        onSelect: this.groupValue,\n        onUnselect: this.removeGroupValue // onChange={e => this.validateTeamForm(e)}\n        ,\n        id: \"user_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), this.teamValidator.message('user_id', this.state.user_id, 'required')), React.createElement(\"div\", {\n        class: \"text-center wrapper mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: e => this.createTeam(e),\n        disabled: this.state.isSubmitcred,\n        className: \"btn btn-red btn-block btn-lg profilebuttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, this.state.isSubmitcred ? 'PLEASE WAIT..' : 'UPDATE')))))));\n    } else {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"mainpage\",\n        className: \"main_box p-0 col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"You have to be loggedin to create your team\"))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  usersdata: state.userDetails.data,\n  usersdatateamloading: state.userDetails.loading,\n  teams: state.team.data,\n  teamloading: state.team.loading\n});\n\nexport default connect(mapStateToProps)(team);","map":{"version":3,"sources":["/home/capslock/Downloads/envy/src/components/team.jsx"],"names":["React","Component","connect","Select2","FormGroup","FormControl","FormLabel","SimpleReactValidator","getUsersdetail","getAllTeams","$","parseJwt","axios","NavLink","toastr","team","constructor","props","validateTeamForm","e","preventDefault","validate","teamValidator","allValid","showMessages","forceUpdate","setState","target","name","value","groupValue","user_id","val","removeGroupValue","createTeam","state","teamname","currid","request","formData","FormData","append","files","method","url","headers","localStorage","getItem","data","then","ResponseCode","document","getElementById","click","success","ResponseText","displayDuration","dispatch","error","totalItems","totalteams","userData","teamdisplaypicture","loggedin","componentDidMount","currdetails","sub","componentWillReceiveProps","nextProps","usersdata","teams","render","i","teamloading","length","map","post","team_id","displaypicture","teammembers","split","message","usersdatateamloading","nickname","text","id","placeholder","isSubmitcred","mapStateToProps","userDetails","loading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Select2 from 'react-select2-wrapper';\nimport 'react-select2-wrapper/css/select2.css';\nimport { FormGroup, FormControl, FormLabel } from 'react-bootstrap';\nimport SimpleReactValidator from 'simple-react-validator';\nimport { getUsersdetail} from \"./../store/actions/userActions\";\nimport { getAllTeams} from \"./../store/actions/teamsActions\";\nimport $ from \"jquery\";\nimport parseJwt from './../store/helpers/common';\nimport axios from 'axios';\nimport {NavLink } from 'react-router-dom';\n\nimport toastr from \"reactjs-toastr\";\n\nclass team extends Component {\n    constructor(props) {\n        super(props);\n        this.teamValidator = new SimpleReactValidator();\n        this.state = {\n            totalItems:'',\n            totalteams:'',\n            userData:[],\n            user_id:[],\n            teamname:'',\n            teamdisplaypicture:'',\n            currid:'',\n            loggedin:false\n        }\n    }\n    componentDidMount() {\n        if (localStorage.getItem('token')) {\n            const currdetails = parseJwt(localStorage.getItem('token'));\n            const currid = currdetails.sub;\n            this.props.dispatch(getAllTeams(currid));\n            this.setState({ currid: currid,loggedin:true});\n            this.props.dispatch(getUsersdetail());\n        }\n        \n    }\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            userData: nextProps.usersdata,\n            totalteams: nextProps.teams\n        });\n    }\n    validateTeamForm = (e) => {\n        e.preventDefault();\n\n        let validate = this.teamValidator;\n        if (validate.allValid()) {\n\n        } else {\n            validate.showMessages();\n            this.forceUpdate();\n        }\n        this.setState({ [e.target.name]: e.target.value });\n    }\n      groupValue = ()=>{\n        this.setState({user_id:$('#user_id').val()});\n      }\n      \n      removeGroupValue = ()=>{\n        this.setState({user_id:$('#user_id').val()});\n      }\n\n      createTeam = (e) => {\n                    const {teamname, currid, user_id} = this.state;\n                    let request;\n                    let formData = new FormData();\n                    formData.append('teamdisplaypicture', $('#teamdisplaypicturee')[0].files[0]);\n                    formData.append('currid', currid);\n                    formData.append('teamname', teamname);\n                    formData.append('user_id', user_id);\n                       request = {\n                        method: 'POST',\n                        url: `https://xrsports.gg/team/public/user/create-team`,\n                        headers: { 'Content-Type': 'application/json', 'X-Auth-Token': `${localStorage.getItem('token')}` },\n                        data: formData\n                      };\n                    \n                    axios(request).then((data) => {\n                      if (data.data.ResponseCode === \"1\") {\n                        document.getElementById(\"close\").click();\n                        toastr.success(data.data.ResponseText, { displayDuration: 1500 })\n                        this.props.dispatch(getAllTeams(currid));\n                         }else {\n                        toastr.error(data.data, { displayDuration: 1500 })\n                      }\n                    });\n    }\n\n    render() {\n        if(this.state.loggedin){\n            const {userData , totalteams} = this.state;\n            let i = 1;\n            return (\n                <>\n                <div className=\"container\">\n    <div id=\"mainpage\" className=\"main_box p-0 col-md-12\">\n    \n            <div className=\"main-content support frontline text-left mt-3\">\n            <div className=\"position-relative border-0\">\n                   \n        <h2 className=\"commonheading\">TEAMS</h2>\n          \n             <div className=\"showallteams games-list\">\n             <div className=\"matchbox pl-4 my-4\">\n            <a id=\"modal-50997896\" href=\"#modal-container-50997896\" role=\"button\" data-toggle=\"modal\"> Create Team <i className=\"fas fa-chevron-right\"></i></a>\n            </div>\n                     {/* <p className=\"merch_p\">All Teams</p> */}\n                 <table className=\"table mb-4 mt-2\" id=\"allteams\">\n                        <thead>\n                            <tr className=\"new_list_tournament only_headings list_game leadehead\">\n                                <th>S no</th>\n                                <th>Team Icon</th>\n                                <th>Team Name</th>\t                        \n                                <th>Total Members</th>\t                        \n                                <th>View</th>\t                        \n                            </tr>\n                        </thead>\n                        <tbody>\n                        {\n                                    this.props.teamloading?\n                                    <tr className=\"tableloader\" colSpan=\"7\"><img className=\"spinnerloader\" src=\"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\"/> </tr>\n                                    :\n                                    totalteams.length > 0 ? totalteams.map((post) => (\n                                        <tr key={post.team_id} classNmae=\"table-secondary\">\n                                            <td>{i++}</td>\n                                            <td><img src={`https://xrsports.gg/team/public/teamprofiles/${post.displaypicture}`} alt=\"\"/></td>\n                                            <td>{post.teamname}</td>\n                                            <td>{post.teammembers.split(',').length}</td>\n                                            <td><NavLink to = {`/team/${post.teamname}/${post.team_id}`}>View</NavLink></td>\n                                        </tr>\n                                        )) :<tr classNmae=\"table-secondary\"><td colSpan=\"7\" align=\"center\"><p>No matches</p></td></tr>\n                        }\n                        \n                                                 </tbody>\n                        </table>\n             </div>\n        </div>\n        </div>\n        \n        </div> \n        </div>\n        <div className=\"modal fade\" id=\"modal-container-50997896\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <button type=\"button\" className=\"close\" id=\"close\" data-dismiss=\"modal\">&times;</button>\n        <div className=\"logo-image text-center\">\n        <img class=\"img-fluid footer_logo\" src=\"/assets/img/games/foot-logo.png\" alt=\"\"></img>\n            {/* <img src=\"https://res.cloudinary.com/dnv0dij0y/image/upload/v1574922448/logo/tcgaminglogo_l1jssw.png\" alt=\"\" className=\"img-fluid\" /> */}\n        </div>\n        <div className=\"login team modal-dialog\" role=\"document\">\n            <div className=\"login modal-content rob\">\n                <div className=\"login modal-header text-center\">\n                     <h5 className=\"modal-titl text-center w-100 creategametitle\" id=\"myModalLabel\">Create your Team</h5>\n                </div>\n                <div className=\"modal-body create_team\">\n                       \n                        <FormGroup>\n                        <FormLabel>Team Name</FormLabel>\n                            <FormControl type=\"text\" name=\"teamname\" value={this.state.teamname} onChange={e => this.validateTeamForm(e)} />\n                            {this.teamValidator.message('teamname', this.state.teamname, 'required')}\n                        </FormGroup>\n    \n                        <FormGroup>\n                        <FormLabel className=\"ml-2\">Display Picture</FormLabel>\n                        <FormLabel className=\"fileContainer\">\n                            <FormControl type=\"file\" name=\"teamdisplaypicture\" id=\"teamdisplaypicturee\" className=\"teamdisplaypicture\" value={this.state.teamdisplaypicture} onChange={e => this.validateTeamForm(e)} />\n                            {this.teamValidator.message('teamdisplaypicture', this.state.teamdisplaypicture, 'required')}\n                            </FormLabel>\n                        </FormGroup>\n    \n                        <FormGroup>\n                        <FormLabel>Add Users</FormLabel>\n                        {\n                            this.props.usersdatateamloading ?\n                            <div className=\"loaderdiv\"><img className=\"spinnerloader\" src=\"https://res.cloudinary.com/dg3sjwu2p/image/upload/v1580215115/envy/loader/loading-gif-png-5_q7dgtv.gif\"></img></div>\n                            :\n                        <Select2\n                            multiple\n                            className=\"form-control\"\n                            name=\"user_id\"\n                            value={this.state.user_id}\n                            data={userData && userData.map(({user_id,nickname})=>({text:nickname,id:user_id}))}\n                            options={{\n                                placeholder: 'Choose Team Members',\n                            }}\n                            onSelect={this.groupValue}\n                            onUnselect={this.removeGroupValue}\n                            // onChange={e => this.validateTeamForm(e)}\n                            id=\"user_id\"\n                        />\n                        }\n                        \n                            {this.teamValidator.message('user_id', this.state.user_id, 'required')}\n                        </FormGroup>\n                        <div class=\"text-center wrapper mt-4\"><button type=\"submit\"  onClick={(e) => this.createTeam(e)} disabled={this.state.isSubmitcred} className=\"btn btn-red btn-block btn-lg profilebuttons\">{this.state.isSubmitcred ? 'PLEASE WAIT..' : 'UPDATE'}</button></div>\n                        \n                </div>\n            </div>\n        </div>\n    </div>\n        </>        \n            );\n        }else{\n            return (\n            <>\n            <div className=\"container\">\n                <div id=\"mainpage\" className=\"main_box p-0 col-md-12\">\n                    <h1>You have to be loggedin to create your team</h1>\n                </div>\n            </div>\n            </>\n            )\n        }\n       \n    }\n}\n\nconst mapStateToProps = (state) => ({\n    usersdata: state.userDetails.data,\n    usersdatateamloading : state.userDetails.loading,\n    teams: state.team.data,\n    teamloading : state.team.loading,\n})\nexport default connect(mapStateToProps)(team);"]},"metadata":{},"sourceType":"module"}